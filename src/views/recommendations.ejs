<%- include('partials/header') %>

<div class="recommendations-container">
    <h2>Recommended for You</h2>
    <p>Based on your library and notes.</p>

    <% if (recommendations && recommendations.length > 0) { %>
        <div class="recommendations-grid">
            <% recommendations.forEach(book => { %>
                <div class="book-card">
                    <div class="book-card-image">
                        <img src="<%= book.thumbnail || '/images/placeholder.png' %>" alt="Cover of <%= book.title %>">
                    </div>
                    <div class="book-card-content">
                        <h4><%= book.title %></h4>
                        <p>by <%= book.authors.join(', ') %></p>
                        <form action="/books/add" method="POST">
                            <input type="hidden" name="api_id" value="<%= book.id %>">
                            <input type="hidden" name="title" value="<%= book.title %>">
                            <input type="hidden" name="authors" value="<%= book.authors.join(', ') %>">
                            <input type="hidden" name="thumbnail" value="<%= book.thumbnail %>">
                            <button type="submit" class="btn btn-secondary">Add to My Books</button>
                        </form>
                    </div>
                </div>
            <% }) %>
        </div>
    <% } else { %>
        <p>No recommendations available yet. Add more books and notes to help us suggest new reads!</p>
    <% } %>
</div>

<%- include('partials/footer') %>
